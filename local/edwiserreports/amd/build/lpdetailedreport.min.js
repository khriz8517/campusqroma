define(["jquery","core/str","local_edwiserreports/variables"],(function(e,t,a){var l=JSON.stringify({type:"lps"}),n="local_edwiserreports",o='.lp-table [name^="customReportSelect-"]',r=e("#wdm-lpdetailedreport-form"),s=t.get_strings([{key:"searchlps",component:n},{key:"nolearningprograms",component:n}]),c=a.requestUrl+"?action=get_customreport_selectors_ajax&sesskey="+M.cfg.sesskey+"&filter="+l;s.then((function(){var t={columns:[{data:"select"},{data:"fullname"},{data:"shortname"},{data:"startdate"},{data:"enddate"},{data:"duration"}],language:{searchPlaceholder:M.util.get_string("searchlps",n),emptyTable:M.util.get_string("nolearningprograms",n)}};e("#wdm-lplist-table").DataTable({ajax:c,columns:t.columns,language:t.language,responsive:!0,scrollY:"250px",scroller:{loadingIndicator:!0},scrollCollapse:!0,scrollX:!0,paging:!1,bInfo:!1,bSort:!1}).columns.adjust(),e(document).on("change",'input[name="selectAllCustom"]',(function(t){e(t.target).is(":checked")?e(o).prop("checked",!0):e(o).prop("checked",!1)})),e(document).on("change",'.modal-body input[type="checkbox"]',(function(){e(o+":checked").length?e("#wdm-lpdetailedreport").show():(e('input[name="selectAllCustom"]').prop("checked",!1),e("#wdm-lpdetailedreport").hide())})),e(document).on("click","#wdm-lpdetailedreport",(function(t){if(!e(o+":checked").length)return e(panel).find("#errorMsg").addClass("show").removeClass("hide"),setTimeout((function(){e(panel).find("#errorMsg").addClass("hide").removeClass("show")}),5e3),!1;filters=[],e(o+":checked").each((function(t,a){filters.push(e(a).data("id"))})),r.find("input[name=filters]").val(filters.join(",")),r.submit()}))}))}));
