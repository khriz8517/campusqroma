define(["jquery","core/templates","local_edwiserreports/defaultconfig","./common"],(function(e,t,a,s){var o=a.getPanel("#siteaccessblock"),c=a.getPanel("#siteaccessblock","body"),n=a.getPanel("#siteaccessblock","table"),l=a.getPanel("#siteaccessblock","loader");return{init:function(i){e(document).ready((function(){s.loader.show("#siteaccessblock"),e.ajax({url:a.requestUrl,type:a.requestType,dataType:a.requestDataType,data:{action:"get_siteaccess_data_ajax",sesskey:e(o).data("sesskey")}}).done((function(i){t.render(a.getTemplate("siteaccessblock"),i.data).then((function(e,a){t.replaceNodeContents(c,e,a)})).fail((function(e){console.log(e)})).always((function(){e("#accessinfodesctable").show(),e(l).remove(),e(n).removeClass("d-none"),e(o+' [data-toggle="tooltip"]').tooltip(),s.loader.hide("#siteaccessblock")}))})).fail((function(e){console.log(e)})).always((function(){i("accessInfo"),s.loader.hide("#siteaccessblock")}))}))}}}));
