define(["jquery","core/modal_factory","core/modal_events","core/fragment","core/templates","local_edwiserreports/variables","local_edwiserreports/common"],(function(e,o,t,a,n,r){return{init:function(o){var t="#wdm-f2fsessions-individual",a=t+" .table",i=t+" .loader",s=e(t).data("sesskey"),c=0;function l(o){e.ajax({url:r.requestUrl,type:r.requestType,dataType:r.requestDataType,data:{action:"get_f2fsession_data_ajax",sesskey:s,data:JSON.stringify({cohortid:o})}}).done((function(o){var r=o.data;r.sesskey=s,n.render("local_edwiserreports/f2fsessions",r).then((function(e,o){n.replaceNode(t,e,o)})).fail((function(e){console.log(e)})).always((function(){e(a).show(),e(i).hide()}))})).fail((function(e){console.log(e)}))}e(document).ready((function(){l(c),e("#cohortfilter ~ .dropdown-menu .dropdown-item").on("click",(function(){e(a).hide(),e(i).show(),c=e(this).data("cohortid"),r.changeExportUrl(c,r.exportUrlLink,r.cohortReplaceFlag),e("#cohortfilter").html(e(this).text()),l(c)}))}))}}}));
