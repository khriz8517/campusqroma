define(["jquery","core/chartjs","local_edwiserreports/defaultconfig","local_edwiserreports/variables","./common","local_edwiserreports/jquery.dataTables","local_edwiserreports/dataTables.bootstrap4"],(function(a,e,t,i,l){return{init:function(e){var n=t.getPanel("#inactiveusersblock"),o=t.getPanel("#inactiveusersblock","body"),s=t.getPanel("#inactiveusersblock","title"),r=o+" #inactiveuserstable",d=o+" #inactiveuserstable_wrapper",c=o+" .loader",u=s+" .dropdown-menu .dropdown-item",p=s+" button.dropdown-toggle",b=null,g=n+" .dropdown-menu[aria-labelledby='export-dropdown'] .dropdown-item";function f(i){l.loader.show("#inactiveusersblock"),a.ajax({url:t.requestUrl,type:"GET",dataType:"json",data:{action:"get_inactiveusers_data_ajax",sesskey:a(n).data("sesskey"),data:JSON.stringify({filter:i})}}).done((function(e){!function(e){b&&(a("#inactiveuserstable tbody").remove(),b.destroy());a(c).hide(),a(r).show(),b=a(r).DataTable({data:e,aaSorting:[[2,"desc"]],oLanguage:{sEmptyTable:"No inactive users are available.",sSearchPlaceholder:"Search Users"},columnDefs:[{targets:2,className:"text-center"}],drawCallback:function(){a(".dataTables_paginate > .pagination").addClass("pagination-sm pull-right"),a(".dataTables_filter").addClass("pagination-sm pull-right")},responsive:!0,lengthChange:!1,bInfo:!1})}(e.data)})).fail((function(a){console.log(a)})).always((function(){e("inActiveUsers"),l.loader.hide("#inactiveusersblock")}))}f(a(u).data("value")),a(u).on("click",(function(){var e=a(this).data("value");a(n).find('.download-links input[name="filter"]').val(e),a(c).show(),a(r).hide(),a(d).hide(),a(p).html(a(this).html()),t.changeExportUrl(e,g,i.filterReplaceFlag),f(a(this).data("value"))}))}}}));
